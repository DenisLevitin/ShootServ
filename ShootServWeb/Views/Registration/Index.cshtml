@using DocumentFormat.OpenXml.Drawing
@model ShootServ.Models.Registration.RegistrationPageModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (!Model.IsEditMode)
{
    <h3>Регистрация</h3>
}
else
{
    <h3>Пользовательские данные</h3>
}

<script src="~/Scripts/ShootServ/registration.js"></script>
<main>
    @using (Html.BeginForm("AddUser", "Registration", FormMethod.Post, new { id = "addform" }))
    {

        <div id="content" class="instr">
            <div id="divUser">
                @Html.LabelFor(x => x.PostModel.IdRole, new { @readonly = Model.IsEditMode ? "readonly" : "" })
                @Html.DropDownListFor(x => x.PostModel.IdRole, Model.RolesList, new { id = "idRole", @Name = "idRole", @class = "form-control" })
                @Html.LabelFor(x => x.PostModel.Name)
                @Html.TextBoxFor(x => x.PostModel.Name, new { id = "name", @Name = "name", @class = "form-control" })

                @Html.LabelFor(x => x.PostModel.FatherName)
                @Html.TextBoxFor(x => x.PostModel.FatherName, new { id = "fatherName", @Name = "fatherName", @class = "form-control" })
                @Html.LabelFor(x => x.PostModel.Family)
                @Html.TextBoxFor(x => x.PostModel.Family, new { id = "family", @Name = "family", @class = "form-control" })
                @Html.LabelFor(x => x.PostModel.Sex, new { @readonly = Model.IsEditMode ? "readonly" : "" })
                @Html.DropDownListFor(x => x.PostModel.Sex, Model.SexList, new { id = "sex", @Name = "sex", @class = "form-control" })
                @Html.LabelFor(x => x.PostModel.Login)

                @Html.TextBoxFor(x => x.PostModel.Login, new { id = "login", @Name = "login", @class = "form-control" })
                @Html.LabelFor(x => x.PostModel.Password)
                @Html.PasswordFor(x => x.PostModel.Password, new { id = "password", @Name = "password", @class = "form-control" })
                @Html.Label("Повторите пароль")
                @Html.Password("password2", "", new { @class = "form-control" })
                @Html.LabelFor(x => x.PostModel.Email)
                @Html.TextBoxFor(x => x.PostModel.Email, new { id = "email", @Name = "email", @class = "form-control" })


                @if (!Model.IsEditMode)
                {
                    <input type="button" id="addBt" value="Зарегистрировать" />
                }
                else
                {
                    <input type="button" id="editBt" value="Сохранить" />
                }
            </div>

            <div id="divShooterInput">
                @Html.Label("Страна")
                @Html.DropDownList("idCountry", Model.CountriesList, new { @class = "form-control" })
                @Html.Label("Регион")
                <div id="tdRegionsList">@Html.DropDownList("idRegion", Model.RegionsList, new { @class = "form-control" })</div>
                @Html.LabelFor(x => x.PostModel.DateBirthday)
                @Html.TextBoxFor(x => x.PostModel.DateBirthday, "{0:dd.MM.yyyy}", new { @class = "datepicker, form-control", id = "dateBirthday", @Name = "dateBirthday" })
                @Html.LabelFor(x => x.PostModel.IdClub, new { style = "display:inline" }) 
                <div id="tdClubsList">@Html.DropDownListFor(x => x.PostModel.IdClub, Model.ShooterClubs, new { id = "idClub", @Name = "idClub", @class = "form-control" })</div>
                @Html.LabelFor(x => x.PostModel.IdWeaponType)
                @Html.DropDownListFor(x => x.PostModel.IdWeaponType, Model.WeaponTypes, new { id = "idWeaponType", @Name = "idWeaponType", @class = "form-control" })
                @Html.LabelFor(x => x.PostModel.IdShooterCategory)
                @Html.DropDownListFor(x => x.PostModel.IdShooterCategory, Model.Categories, new { id = "idShooterCategory", @Name = "idShooterCategory", @class = "form-control" })

                @Html.LabelFor(x => x.PostModel.Address)
                @Html.TextAreaFor(x => x.PostModel.Address, new { id = "address", @Name = "address", @class = "form-control" })
                <p>
                    * - Если вашего стрелкового клуба нет в списке, создайте тир, зарегистрировавшись под ролью организатора, затем создайте стрелковый клуб.
                    Далее стрелки смогут при регистрации выбрать появившийся стрелковый клуб.
                </p>
        
            </div>
        </div>
    }
</main>